<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¶åŒºè½¬æ¢å·¥å…· / Time Zone Converter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background:
                radial-gradient(900px 600px at 15% 12%, rgba(124, 92, 255, 0.35) 0%, rgba(124, 92, 255, 0) 55%),
                radial-gradient(900px 600px at 85% 18%, rgba(0, 212, 255, 0.22) 0%, rgba(0, 212, 255, 0) 55%),
                radial-gradient(700px 500px at 50% 85%, rgba(255, 0, 128, 0.14) 0%, rgba(255, 0, 128, 0) 60%),
                linear-gradient(135deg, #05070c 0%, #0b0f1a 55%, #060815 100%);
            min-height: 100vh;
            padding: 72px 22px 22px;
            color: rgba(255,255,255,0.9);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: rgba(255,255,255,0.94);
            margin-bottom: 28px;
            font-size: 2.45em;
            text-shadow: 0 18px 55px rgba(0,0,0,0.55);
            letter-spacing: 0.3px;
        }

        .section {
            background: rgba(18, 20, 30, 0.55);
            border-radius: 18px;
            padding: 30px;
            margin-bottom: 26px;
            box-shadow: 0 26px 80px rgba(0,0,0,0.55);
            border: 1px solid rgba(255,255,255,0.10);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
        }

        .section h2 {
            margin-bottom: 18px;
            color: rgba(255,255,255,0.92);
            font-size: 1.45em;
            letter-spacing: 0.2px;
        }

        .time-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .time-card {
            background: rgba(255,255,255,0.07);
            color: rgba(255,255,255,0.92);
            padding: 22px;
            border-radius: 18px;
            text-align: center;
            box-shadow:
                0 28px 70px rgba(0,0,0,0.55),
                inset 0 1px 0 rgba(255,255,255,0.08);
            position: relative;
            border: 1px solid rgba(255,255,255,0.12);
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
        }

        .time-card:hover {
            transform: translateY(-2px);
            border-color: rgba(255,255,255,0.18);
            box-shadow:
                0 34px 90px rgba(0,0,0,0.62),
                inset 0 1px 0 rgba(255,255,255,0.10);
        }

        .time-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            text-align: left;
            margin-bottom: 10px;
        }

        .tz-tag {
            padding: 5px 10px;
            border-radius: 999px;
            font-size: 0.75em;
            font-weight: 800;
            letter-spacing: 0.02em;
            background: rgba(255,255,255,0.10);
            border: 1px solid rgba(255,255,255,0.14);
            box-shadow: 0 10px 24px rgba(0,0,0,0.35);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            white-space: nowrap;
            flex: 0 0 auto;
        }

        .tz-tag.dst {
            background: rgba(255, 193, 7, 0.16);
            border-color: rgba(255, 193, 7, 0.28);
        }

        .tz-tag.std {
            background: rgba(100, 181, 246, 0.16);
            border-color: rgba(100, 181, 246, 0.28);
        }

        .time-card h3 {
            font-size: 1.15em;
            margin-bottom: 0;
            opacity: 0.92;
        }

        .time-card .time {
            font-size: 2.05em;
            font-weight: 800;
            margin: 10px 0;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
            text-shadow: 0 18px 50px rgba(0,0,0,0.55);
            letter-spacing: 0.02em;
        }

        .time-card .date {
            font-size: 0.9em;
            opacity: 0.82;
            margin-top: 6px;
        }

        .time-card .timezone {
            font-size: 0.85em;
            opacity: 0.75;
            margin-top: 6px;
        }

        .converter {
            display: grid;
            gap: 20px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .input-group label {
            font-weight: 700;
            color: rgba(255,255,255,0.86);
        }

        .input-row {
            display: grid;
            grid-template-columns: 1.5fr 1.5fr 1.2fr 1fr;
            gap: 15px;
        }

        .date-time-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        input, select {
            padding: 12px;
            border: 1px solid rgba(255,255,255,0.14);
            border-radius: 12px;
            font-size: 1em;
            transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
            background: rgba(255,255,255,0.06);
            color: rgba(255,255,255,0.92);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        input::placeholder {
            color: rgba(255,255,255,0.45);
        }

        input:focus, select:focus {
            outline: none;
            border-color: rgba(124, 92, 255, 0.7);
            box-shadow: 0 0 0 4px rgba(124, 92, 255, 0.22);
        }

        button {
            background:
                radial-gradient(120% 120% at 20% 0%, rgba(255,255,255,0.18) 0%, rgba(255,255,255,0) 55%),
                linear-gradient(135deg, rgba(124, 92, 255, 0.95) 0%, rgba(0, 212, 255, 0.75) 120%);
            color: rgba(255,255,255,0.95);
            border: 1px solid rgba(255,255,255,0.18);
            padding: 12px 30px;
            border-radius: 14px;
            font-size: 1em;
            cursor: pointer;
            font-weight: 800;
            transition: transform 0.18s ease, box-shadow 0.18s ease, filter 0.18s ease;
            box-shadow: 0 18px 45px rgba(0,0,0,0.45);
        }

        button:hover {
            transform: translateY(-2px);
            filter: brightness(1.03);
            box-shadow: 0 24px 60px rgba(0,0,0,0.55);
        }

        button:active {
            transform: translateY(0);
        }

        .result {
            margin-top: 20px;
            padding: 18px;
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.12);
            border-radius: 14px;
            display: none;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .result.show {
            display: block;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.10);
            color: rgba(255,255,255,0.86);
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-item strong {
            color: rgba(255,255,255,0.92);
        }

        .dst-indicator {
            font-size: 0.8em;
            color: #ff6b6b;
            margin-left: 5px;
        }



        @media (max-width: 768px) {
            body {
                padding-top: 56px;
            }

            .input-row {
                grid-template-columns: 1fr;
            }

            .date-time-group {
                grid-template-columns: 1fr 1fr;
            }

            .time-display {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 1.8em;
            }

            .tz-tag {
                font-size: 0.72em;
                padding: 3px 8px;
            }
        }

        @media (max-width: 1024px) and (min-width: 769px) {
            .input-row {
                grid-template-columns: 1.5fr 1.2fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ æ—¶åŒºè½¬æ¢å·¥å…· / Time Zone Converter</h1>

        <div class="section">
            <h2>å®æ—¶æ—¶é—´æ˜¾ç¤º / Live Time</h2>
            <div class="time-display">
                <div class="time-card" id="shanghai-card">
                    <h3>ğŸ‡¨ğŸ‡³ ä¸Šæµ· / Shanghai</h3>
                    <div class="time" id="shanghai-time">--:--:--</div>
                    <div class="date" id="shanghai-date">--</div>
                    <div class="timezone" id="shanghai-tz">Asia/Shanghai</div>
                </div>
                <div class="time-card" id="ny-card">
                    <div class="time-card-header">
                        <h3>ğŸ‡ºğŸ‡¸ çº½çº¦ / New York</h3>
                        <div class="tz-tag" id="ny-dst-tag">--</div>
                    </div>
                    <div class="time" id="ny-time">--:--:--</div>
                    <div class="date" id="ny-date">--</div>
                    <div class="timezone" id="ny-tz">America/New_York</div>
                </div>
                <div class="time-card" id="sf-card">
                    <div class="time-card-header">
                        <h3>ğŸ‡ºğŸ‡¸ æ—§é‡‘å±± / San Francisco</h3>
                        <div class="tz-tag" id="sf-dst-tag">--</div>
                    </div>
                    <div class="time" id="sf-time">--:--:--</div>
                    <div class="date" id="sf-date">--</div>
                    <div class="timezone" id="sf-tz">America/Los_Angeles</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>æ—¶é—´è½¬æ¢å™¨ / Time Converter</h2>
            <div class="converter">
                <div class="input-group">
                    <label>è¾“å…¥æ—¶é—´ / Input timeï¼š</label>
                    <div class="input-row">
                        <div class="date-time-group">
                            <input type="date" id="input-date" />
                            <input type="time" id="input-time" />
                        </div>
                        <select id="input-timezone">
                            <option value="Asia/Shanghai">ä¸Šæµ· Shanghai (UTC+8)</option>
                            <option value="America/New_York">çº½çº¦ New York (EST/EDT)</option>
                            <option value="America/Los_Angeles">æ—§é‡‘å±± San Francisco (PST/PDT)</option>
                        </select>
                        <button onclick="convertTime()">è½¬æ¢ / Convert</button>
                    </div>
                </div>
                <div class="result" id="result">
                    <div class="result-item">
                        <strong>ä¸Šæµ·æ—¶é—´ / Shanghaiï¼š</strong>
                        <span id="result-shanghai">--</span>
                    </div>
                    <div class="result-item">
                        <strong>çº½çº¦æ—¶é—´ / New Yorkï¼š</strong>
                        <span id="result-ny">--</span>
                    </div>
                    <div class="result-item">
                        <strong>æ—§é‡‘å±±æ—¶é—´ / San Franciscoï¼š</strong>
                        <span id="result-sf">--</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ—¶åŒºé…ç½®
        const timezones = {
            shanghai: {
                name: 'ä¸Šæµ·',
                tz: 'Asia/Shanghai',
                flag: 'ğŸ‡¨ğŸ‡³'
            },
            ny: {
                name: 'çº½çº¦',
                tz: 'America/New_York',
                flag: 'ğŸ‡ºğŸ‡¸'
            },
            sf: {
                name: 'æ—§é‡‘å±±',
                tz: 'America/Los_Angeles',
                flag: 'ğŸ‡ºğŸ‡¸'
            }
        };

        // æ ¼å¼åŒ–æ—¶é—´æ˜¾ç¤º
        function formatTime(date, timezone) {
            const formatter = new Intl.DateTimeFormat('zh-CN', {
                timeZone: timezone,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            });
            return formatter.format(date);
        }

        // æ ¼å¼åŒ–æ—¥æœŸæ˜¾ç¤º
        function formatDate(date, timezone) {
            const formatter = new Intl.DateTimeFormat('zh-CN', {
                timeZone: timezone,
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                weekday: 'long'
            });
            return formatter.format(date);
        }

        // è·å–æ—¶åŒºä¿¡æ¯ï¼ˆåŒ…æ‹¬DSTï¼‰
        function getTimezoneInfo(date, timezone) {
            const formatter = new Intl.DateTimeFormat('en-US', {
                timeZone: timezone,
                timeZoneName: 'short'
            });
            const parts = formatter.formatToParts(date);
            const tzName = parts.find(part => part.type === 'timeZoneName')?.value || '';
            
            // åˆ¤æ–­æ˜¯å¦åœ¨å¤ä»¤æ—¶
            // é€šè¿‡æ¯”è¾ƒ1æœˆå’Œ7æœˆçš„åç§»é‡æ¥åˆ¤æ–­
            const jan = new Date(date.getFullYear(), 0, 1);
            const jul = new Date(date.getFullYear(), 6, 1);
            const stdOffset = getTimezoneOffset(jan, timezone);
            const dstOffset = getTimezoneOffset(jul, timezone);
            const currentOffset = getTimezoneOffset(date, timezone);
            const isDST = currentOffset !== stdOffset && currentOffset === dstOffset;

            return {
                name: tzName,
                isDST: isDST,
                offset: currentOffset
            };
        }

        // è·å–æ—¶åŒºåç§»é‡ï¼ˆåˆ†é’Ÿï¼‰
        function getTimezoneOffset(date, timezone) {
            const utcDate = new Date(date.toLocaleString('en-US', { timeZone: 'UTC' }));
            const tzDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));
            return (tzDate - utcDate) / (1000 * 60);
        }

        // æ›´æ–°å®æ—¶æ—¶é—´æ˜¾ç¤º
        function updateRealTime() {
            const now = new Date();

            // æ›´æ–°ä¸Šæµ·æ—¶é—´
            const shanghaiTime = formatTime(now, timezones.shanghai.tz);
            const shanghaiDate = formatDate(now, timezones.shanghai.tz);
            const shanghaiInfo = getTimezoneInfo(now, timezones.shanghai.tz);
            document.getElementById('shanghai-time').textContent = shanghaiTime;
            document.getElementById('shanghai-date').textContent = shanghaiDate;
            document.getElementById('shanghai-tz').textContent = `Asia/Shanghai (${shanghaiInfo.name})`;

            // æ›´æ–°çº½çº¦æ—¶é—´
            const nyTime = formatTime(now, timezones.ny.tz);
            const nyDate = formatDate(now, timezones.ny.tz);
            const nyInfo = getTimezoneInfo(now, timezones.ny.tz);
            document.getElementById('ny-time').textContent = nyTime;
            document.getElementById('ny-date').textContent = nyDate;
            document.getElementById('ny-tz').textContent = `America/New_York (${nyInfo.name}${nyInfo.isDST ? ' - å¤ä»¤æ—¶ DST' : ' - æ ‡å‡†æ—¶é—´ Standard'})`;
            const nyTag = document.getElementById('ny-dst-tag');
            if (nyTag) {
                nyTag.textContent = nyInfo.isDST ? 'å¤ä»¤æ—¶ / DST' : 'å†¬ä»¤æ—¶ / Standard';
                nyTag.className = `tz-tag ${nyInfo.isDST ? 'dst' : 'std'}`;
            }

            // æ›´æ–°æ—§é‡‘å±±æ—¶é—´
            const sfTime = formatTime(now, timezones.sf.tz);
            const sfDate = formatDate(now, timezones.sf.tz);
            const sfInfo = getTimezoneInfo(now, timezones.sf.tz);
            document.getElementById('sf-time').textContent = sfTime;
            document.getElementById('sf-date').textContent = sfDate;
            document.getElementById('sf-tz').textContent = `America/Los_Angeles (${sfInfo.name}${sfInfo.isDST ? ' - å¤ä»¤æ—¶ DST' : ' - æ ‡å‡†æ—¶é—´ Standard'})`;
            const sfTag = document.getElementById('sf-dst-tag');
            if (sfTag) {
                sfTag.textContent = sfInfo.isDST ? 'å¤ä»¤æ—¶ / DST' : 'å†¬ä»¤æ—¶ / Standard';
                sfTag.className = `tz-tag ${sfInfo.isDST ? 'dst' : 'std'}`;
            }
        }

        // ï¼ˆå·²ç§»é™¤â€œæ—¶é—´æ¨¡å¼â€ç›¸å…³ UI/é€»è¾‘ï¼šè½¬æ¢å§‹ç»ˆæŒ‰æ—¶åŒºè§„åˆ™è‡ªåŠ¨å¤„ç† DSTï¼‰

        // è½¬æ¢æ—¶é—´
        function convertTime() {
            const inputDate = document.getElementById('input-date').value;
            const inputTime = document.getElementById('input-time').value;
            const inputTimezone = document.getElementById('input-timezone').value;

            if (!inputDate || !inputTime) {
                alert('è¯·é€‰æ‹©æ—¥æœŸå¹¶è¾“å…¥æ—¶é—´ / Please select a date and time');
                return;
            }

            // æ—¥æœŸæ ¼å¼ä¸º "YYYY-MM-DD"ï¼Œæ—¶é—´æ ¼å¼ä¸º "HH:mm"
            const [year, month, day] = inputDate.split('-').map(Number);
            const [hour, minute] = inputTime.split(':').map(Number);

            // åˆ›å»ºä¸€ä¸ªDateå¯¹è±¡ï¼Œè¡¨ç¤ºè¾“å…¥æ—¶åŒºçš„è¿™ä¸ªæ—¶é—´
            const inputDateUTC = new Date(Date.UTC(year, month - 1, day, hour, minute, 0));
            
            let inputTzOffset;
            
            // ä½¿ç”¨è¾“å…¥æ—¶åŒºåœ¨è¯¥æ—¶åˆ»çš„çœŸå®åç§»é‡ï¼ˆè‡ªåŠ¨åŒ…å«å¤ä»¤æ—¶/å†¬ä»¤æ—¶è§„åˆ™ï¼‰
            inputTzOffset = getTimezoneOffset(inputDateUTC, inputTimezone);
            
            // è°ƒæ•´UTCæ—¶é—´ä»¥åŒ¹é…è¾“å…¥æ—¶åŒºçš„å®é™…æ—¶é—´
            const adjustedUTC = new Date(inputDateUTC.getTime() - inputTzOffset * 60000);

            // æ ¼å¼åŒ–æ˜¾ç¤ºç»“æœ
            const formatterOptions = {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            };

            // æ˜¾ç¤ºä¸Šæµ·æ—¶é—´
            const shanghaiFormatter = new Intl.DateTimeFormat('zh-CN', {
                ...formatterOptions,
                timeZone: timezones.shanghai.tz
            });
            const shanghaiResult = shanghaiFormatter.format(adjustedUTC);
            const shanghaiInfo = getTimezoneInfo(adjustedUTC, timezones.shanghai.tz);
            document.getElementById('result-shanghai').textContent = 
                `${shanghaiResult} (${shanghaiInfo.name})`;

            // æ˜¾ç¤ºçº½çº¦æ—¶é—´
            const nyFormatter = new Intl.DateTimeFormat('zh-CN', {
                ...formatterOptions,
                timeZone: timezones.ny.tz
            });
            const nyResult = nyFormatter.format(adjustedUTC);
            const nyInfo = getTimezoneInfo(adjustedUTC, timezones.ny.tz);
            const nySuffix = nyInfo.isDST ? ' - å¤ä»¤æ—¶ DST' : ' - æ ‡å‡†æ—¶é—´ Standard';
            document.getElementById('result-ny').textContent = 
                `${nyResult} (${nyInfo.name}${nySuffix})`;

            // æ˜¾ç¤ºæ—§é‡‘å±±æ—¶é—´
            const sfFormatter = new Intl.DateTimeFormat('zh-CN', {
                ...formatterOptions,
                timeZone: timezones.sf.tz
            });
            const sfResult = sfFormatter.format(adjustedUTC);
            const sfInfo = getTimezoneInfo(adjustedUTC, timezones.sf.tz);
            const sfSuffix = sfInfo.isDST ? ' - å¤ä»¤æ—¶ DST' : ' - æ ‡å‡†æ—¶é—´ Standard';
            document.getElementById('result-sf').textContent = 
                `${sfResult} (${sfInfo.name}${sfSuffix})`;

            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            document.getElementById('result').classList.add('show');
        }

        // åˆå§‹åŒ–ï¼šæ¯ç§’æ›´æ–°å®æ—¶æ—¶é—´
        updateRealTime();
        setInterval(updateRealTime, 1000);

        // ï¼ˆå·²ç§»é™¤â€œæ—¶é—´æ¨¡å¼â€ç›¸å…³ UI/é€»è¾‘ï¼‰

        // æ—¶åŒºæ”¹å˜æ—¶æ›´æ–°æç¤º

        // æ”¯æŒå›è½¦é”®è½¬æ¢
        document.getElementById('input-date').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                convertTime();
            }
        });
        document.getElementById('input-time').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                convertTime();
            }
        });
    </script>
</body>
</html>

